
@{
    @model IEnumerable<BibliotecaMetrópolis.Models.Recurso>
	ViewData["Title"] = "Gestion de Adquisiciones";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="text-primary">Inventario de Materiales Adquiridos</h1>
        <p>
            <a asp-action="Create" class="btn btn-success">
                <i class="fas fa-plus-circle"></i> Nueva Adquisición
            </a>
        </p>
    </div>

    @* Buscador (Placeholder - se implementará más adelante) *@
    <div class="row mb-4">
        <div class="col-md-12">
            <input type="text" class="form-control" placeholder="Buscar por Título, Autor o Editorial..." />
        </div>
    </div>


    <div class="table-responsive">
        @* Utilización de la clase table-hover de Bootstrap para mejor interacción *@
        <table class="table table-striped table-bordered table-hover">
            <thead class="bg-primary text-white">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Titulo)
                    </th>
                    <th>
                        Tipo
                    </th>
                    <th>
                        Editorial
                    </th>
                    <th class="text-center">
                        @Html.DisplayNameFor(model => model.AnioPublicacion)
                    </th>
                    <th class="text-center">
                        Cantidad
                    </th>
                    <th class="text-right">
                        Precio Unitario
                    </th>
                    <th class="text-center">
                        Acciones
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Titulo)
                        </td>
                        <td>
                            @* Accede a la propiedad de navegación para mostrar el nombre del tipo *@
                            @Html.DisplayFor(modelItem => item.IdTipoRecursoNavigation.Nombre)
                        </td>
                        <td>
                            @* Accede a la propiedad de navegación para mostrar el nombre de la editorial *@
                            @Html.DisplayFor(modelItem => item.IdEditorialNavigation.Nombre)
                        </td>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.AnioPublicacion)
                        </td>
                        <td class="text-center">
                            @Html.DisplayFor(modelItem => item.Cantidad)
                        </td>
                        <td class="text-right">
                            @* Formatea el precio a moneda *@
                            @item.Precio.Value.ToString("C") 
                        </td>
                        <td class="text-center">
                            @* Botones de Acción *@
                            <div class="btn-group" role="group">
                                <a asp-action="Edit" asp-route-id="@item.IdRecurso" class="btn btn-sm btn-info text-white" title="Editar">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a asp-action="Details" asp-route-id="@item.IdRecurso" class="btn btn-sm btn-secondary" title="Ver Detalle">
                                    <i class="fas fa-eye"></i>
                                </a>
                                <a asp-action="Delete" asp-route-id="@item.IdRecurso" class="btn btn-sm btn-danger" title="Eliminar">
                                    <i class="fas fa-trash-alt"></i>
                                </a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

</div>
